{"version":3,"sources":["webpack:///./src/api/_util.js","webpack:///./src/api/zoo.js"],"names":["apiRoot","arguments","length","undefined","obj","_axios_0_18_0_axios_default","a","create","baseURL","timeout","headers","Content-Type","interceptors","request","use","config","err","promise_default","reject","response","res","data","error","promise","prototype","isPrototypeOf","resolve","Error","catch","then","console","log","concat","Array","slice","call","__webpack_exports__","name","axios","post","para","get","sayabc","__WEBPACK_IMPORTED_MODULE_0__util__","__webpack_require__","Object"],"mappings":"iHAwBA,WAAiC,IAAfA,EAAeC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAL,IAEtBG,KA4CJ,OA1CEA,EAAMC,EAAAC,EAAMC,QACVC,QAASR,EACTS,QAAS,IAETC,SAAUC,eAAgB,qCAG1BC,aAAaC,QAAQC,IAAI,SAAAC,GAC3B,OAAOA,GACN,SAAAC,GACD,OAAOC,EAAAX,EAAQY,OAAOF,KAGxBZ,EAAIQ,aAAaO,SAASL,IAAI,SAAAM,GAC5B,OAAOA,EAAIC,MACV,SAAAL,GAsBD,IAAMM,EAAQN,EACd,OAAOC,EAAAX,EAAQY,OAAOI,KAIjBlB,OAIF,SAAYmB,GACjB,IAAKA,IAAYN,EAAAX,EAAQkB,UAAUC,cAAcF,GAC/C,OAAO,IAAIN,EAAAX,EAAQ,SAACoB,EAASR,GAC3BA,EAAO,IAAIS,MAAM,qCAChBC,MAAM,SAACZ,GACR,OAAQA,EAAK,QAGjB,OAAOO,EAAQM,KAAK,WAElB,OADAC,QAAQC,IAAI9B,UAAU,cACd,MAAR+B,OAAAC,MAAAT,UAAAU,MAAAC,KAAiBlC,cAChB2B,MAAM,SAAAZ,GACP,OAAQA,EAAK,sLCtFjBoB,EAAA,EAMO,SAAkBf,GAEvB,OADAA,EAAKgB,KAAO,MACLC,EAAMC,KAAK,WAAYlB,IARhCe,EAAA,EAYO,SAAqBf,GAE1B,OADAA,EAAKgB,KAAO,MACLC,EAAMC,KAAK,cAAelB,IAdnCe,EAAA,EAkBO,SAAsBI,GAC3B,IAAMnB,EAAOmB,EAAO,IAAMA,EAAO,YAAc,YAE/C,OAAOF,EAAMG,IAAI,eAAiBpB,IArBpCe,EAAA,EAgCO,SAAkBI,GACvB,OAAOE,EAAOD,IAAP,gDAA2DD,IAjCpE,IAAAG,EAAAC,EAAA,QAEMN,EAAQO,OAAAF,EAAA,EAAAE,CAAQ,wBAChBH,EAASG,OAAAF,EAAA,EAAAE,CAAQ","file":"static/js/wxShareApi.d57813adcb3e920eb0a6.js","sourcesContent":["import axios from 'axios'\nimport cookie from 'component-cookie'\nimport gateway from '../_gateway.config'\n\n// function getBaseUrl (apiRoot) {\n//   if (~apiRoot.indexOf('_account')) {\n//     return apiRoot.replace('_account', account)\n//   }\n//   if (~apiRoot.indexOf('_course')) {\n//     return apiRoot.replace('_course', course)\n//   }\n//   if (~apiRoot.indexOf('_teacher')) {\n//     return apiRoot.replace('_teacher', teacher)\n//   }\n//   if (~apiRoot.indexOf('_signalling')) {\n//     return apiRoot.replace('_signalling', signalling)\n//   }\n//   if (~apiRoot.indexOf('_link')) {\n//     return apiRoot.replace('_link', link)\n//   }\n//   return `${account}/api${apiRoot}`\n// }\n\nexport\nfunction callApi (apiRoot = '/') {\n\n  var obj = {}\n    // var token = cookie('abc-token') || decodeURIComponent(getQueryString('authToken'))\n    obj = axios.create({\n      baseURL: apiRoot,\n      timeout: 10000,\n      // headers: { 'Authorization': token }\n      headers: {'Content-Type': 'application/json;charset=UTF-8' }\n    })\n\n  obj.interceptors.request.use(config => {\n    return config\n  }, err => {\n    return Promise.reject(err)\n  })\n\n  obj.interceptors.response.use(res => {\n    return res.data\n  }, err => {\n    // let error\n    // function netError () {\n    //   if (isTeacher()) {\n    //     error = new Error('Network error, please check your network settings')\n    //   } else {\n    //     error = new Error('网络错误，请检查网络设置')\n    //   }\n    // }\n    //\n    // if (err.message === 'Network Error' || ~(err.message || '').indexOf('timeout')) {\n    //   netError()\n    //   return Promise.reject(error)\n    // }\n    //\n    // const { status, data = {} } = err.response || {}\n    //\n    // let error = data.message ? new Error(data.message) : err\n    // if (~error.message.indexOf('timeout')) {\n    //   netError()\n    // }\n\n    const error = err\n    return Promise.reject(error)\n\n  })\n\n  return obj\n}\n\n//使用async/await时处理报错的方法\nexport function to(promise) {\n  if (!promise || !Promise.prototype.isPrototypeOf(promise)) {\n    return new Promise((resolve, reject) => {\n      reject(new Error(\"requires promises as the param\"));\n    }).catch((err) => {\n      return [err, null];\n    });\n  }\n  return promise.then(function () {\n    console.log(arguments,'arguments')\n    return [null, ...arguments];\n  }).catch(err => {\n    return [err, null];\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/_util.js","import { callApi } from './_util'\n\nconst axios = callApi('http://tpdoc.cn:3001')\nconst sayabc = callApi('http://gateway-dev.sayabc.com:8000')\n\n// 新增用户\nexport function addUser (data) {\n  data.name = 'zoo' // 标识是zoo动物园项目\n  return axios.post('/addUser', data)\n}\n\n// 编辑用户信息\nexport function updateUser (data) {\n  data.name = 'zoo' // 标识是zoo动物园项目\n  return axios.post('/updateUser', data)\n}\n\n// 获取用户列表\nexport function getUserList (para) {\n  const data = para ? '?' + para + '&name=zoo' : '?name=zoo'\n\n  return axios.get('/getUserList' + data)\n}\n\n// 获取随机单词接口（.../getRandomWords?count=3）\nexport function getRandomWords (para) {\n  const data = para ? '?' + para + '&name=zoo' : '?name=zoo'\n\n  return axios.get('/getRandomWords' + data)\n}\n\n// 微信分享\nexport function wxShare (para) {\n  return sayabc.get(`/student-dev-9091/api/v1/invitation/sign?url=${para}`)\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/zoo.js"],"sourceRoot":""}